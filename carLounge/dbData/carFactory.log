/*C12*/SET SCHEMA PUBLIC
drop table if exists app_user CASCADE 
drop table if exists contribution CASCADE 
drop table if exists factory_entity CASCADE 
drop table if exists trademarks CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table app_user (id bigint not null, age integer not null, flag integer not null, gender integer not null, nationality varchar(255) not null, password varchar(255) not null, role varchar(255) not null, username varchar(255) not null, primary key (id))
create table contribution (id integer not null, car_id integer not null, engineer_id integer not null, primary key (id))
create table factory_entity (dtype varchar(31) not null, id integer not null, created_on timestamp, color varchar(255), engine_size double, image varchar(64), model varchar(255), price integer, release_date date, name varchar(255), nationality varchar(255), tenure integer, author_id bigint not null, trademark_id integer, primary key (id))
create table trademarks (trademark_id integer not null, founder varchar(255), launch_year integer not null, title varchar(255), primary key (trademark_id))
alter table contribution add constraint UK160nxt2r7ufbjj19n4o6w6ypv unique (engineer_id, car_id)
alter table contribution add constraint FK4ejc8pbr4iypbplv6obq5pjit foreign key (car_id) references factory_entity
alter table contribution add constraint FKsoasievoow4u4vvl4dy381arl foreign key (engineer_id) references factory_entity
alter table factory_entity add constraint FKp8m11qxxyf594l09hpnwakgso foreign key (author_id) references app_user
alter table factory_entity add constraint FK2u51hm2qdauxyunjdua7u20jm foreign key (trademark_id) references trademarks
INSERT INTO APP_USER VALUES(1,23,1,0,'Algerian','$2a$10$ub8V55Kei4eABgcyftwCpOz9toW9avhiUIOxl8dgY8s3OFIN6FQUG','ADMIN','sami')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO FACTORY_ENTITY VALUES('Car',2,'2022-03-26 23:12:32.370045','WHITE',2.0E0,NULL,'A-Class',32500,'2019-08-31',NULL,NULL,NULL,1,NULL)
INSERT INTO FACTORY_ENTITY VALUES('Car',3,'2022-03-26 23:12:32.370045','BLUE',4.0E0,NULL,'B-Class',143000,'2018-01-04',NULL,NULL,NULL,1,NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
